# components/demo_components.py - ë°ëª¨ ê´€ë ¨ UI ì»´í¬ë„ŒíŠ¸

import streamlit as st
from demo_data import get_demo_script

class DemoGuide:
    """ë°ëª¨ ê°€ì´ë“œ ì»´í¬ë„ŒíŠ¸"""
    
    @staticmethod
    def render():
        """ë°ëª¨ ê°€ì´ë“œ ë Œë”ë§"""
        st.header("ğŸ­ ë°ëª¨ ê°€ì´ë“œ")
        
        # ë°ëª¨ ê°œìš”
        st.markdown("""
        ### ğŸ¯ ë°ëª¨ ëª©ì 
        í¬ì½”í†¤ì˜ í•µì‹¬ ê¸°ëŠ¥ì„ **5ë¶„ ë‚´**ì— ì²´í—˜í•  ìˆ˜ ìˆë„ë¡ êµ¬ì„±ëœ ì™„ì „í•œ ë°ëª¨ ì‹œë‚˜ë¦¬ì˜¤ì…ë‹ˆë‹¤.
        """)
        
        # ë¹ ë¥¸ ì²´í—˜ ë²„íŠ¼ë“¤
        col1, col2, col3 = st.columns(3)
        
        with col1:
            if st.button("ğŸš€ ë¹ ë¥¸ ì‹œì‘", type="primary", use_container_width=True):
                st.session_state.demo_step = "quick_start"
                st.rerun()
        
        with col2:
            if st.button("ğŸ“– ìƒì„¸ ê°€ì´ë“œ", use_container_width=True):
                st.session_state.demo_step = "detailed_guide"
                st.rerun()
        
        with col3:
            if st.button("ğŸ¬ ë°ëª¨ ìŠ¤í¬ë¦½íŠ¸", use_container_width=True):
                st.session_state.demo_step = "demo_script"
                st.rerun()
        
        # ì„ íƒëœ ë°ëª¨ ë‹¨ê³„ì— ë”°ë¼ ë‚´ìš© í‘œì‹œ
        demo_step = st.session_state.get('demo_step', 'overview')
        
        if demo_step == "quick_start":
            DemoGuide._render_quick_start()
        elif demo_step == "detailed_guide":
            DemoGuide._render_detailed_guide()
        elif demo_step == "demo_script":
            DemoGuide._render_demo_script()
        else:
            DemoGuide._render_overview()
    
    @staticmethod
    def _render_overview():
        """ë°ëª¨ ê°œìš”"""
        st.markdown("---")
        st.subheader("ğŸ“‹ ë°ëª¨ ê°œìš”")
        
        col1, col2 = st.columns(2)
        
        with col1:
            st.markdown("""
            #### ğŸ¯ ë°ëª¨ ì‹œë‚˜ë¦¬ì˜¤
            1. **ìƒ˜í”Œ í”„ë¡œì íŠ¸ ìƒì„±** (30ì´ˆ)
            2. **ë°ì´í„° íƒìƒ‰** (2ë¶„)
            3. **ì‹œë®¬ë ˆì´ì…˜ ì‹¤í–‰** (1ë¶„)
            4. **ê²°ê³¼ ë¶„ì„** (1ë¶„ 30ì´ˆ)
            
            **ì´ ì†Œìš”ì‹œê°„: ì•½ 5ë¶„**
            """)
        
        with col2:
            st.markdown("""
            #### ğŸ“Š í¬í•¨ëœ ë°ì´í„°
            - ğŸ‘¥ **5ëª…ì˜ íŒ€ì›** (ë‹¤ì–‘í•œ ì—­í• )
            - ğŸš€ **3ê°œì˜ ìŠ¤í”„ë¦°íŠ¸** (ì‹¤ì œ ì¼ì •)
            - ğŸ“‹ **10ê°œì˜ ì—…ë¬´** (í˜„ì‹¤ì  ì‹œë‚˜ë¦¬ì˜¤)
            - ğŸ“ˆ **ì™„ì „í•œ ë¶„ì„** ë°ì´í„°
            """)
        
        # ì£¼ìš” ê¸°ëŠ¥ í•˜ì´ë¼ì´íŠ¸
        st.markdown("### âœ¨ ì²´í—˜ ê°€ëŠ¥í•œ ì£¼ìš” ê¸°ëŠ¥")
        
        features = [
            {"icon": "ğŸ¯", "title": "ìŠ¤í”„ë¦°íŠ¸ ê¸°ë°˜ ê´€ë¦¬", "desc": "ì‹¤ì œ ê°œë°œ ìŠ¤í”„ë¦°íŠ¸ í™˜ê²½ê³¼ ë™ì¼í•œ ì—…ë¬´ ê´€ë¦¬"},
            {"icon": "ğŸ”„", "title": "Round Robin ë¶„ë°°", "desc": "ê³µì •í•˜ê³  ê· í˜•ì ì¸ ìë™ ì—…ë¬´ ë¶„ë°° ì•Œê³ ë¦¬ì¦˜"},
            {"icon": "ğŸ“Š", "title": "ì‹¤ì‹œê°„ ì‹œê°í™”", "desc": "Bar Chart, ê°„íŠ¸ ì°¨íŠ¸, ê· í˜•ë„ ì§€í‘œ ë“± ë‹¤ì–‘í•œ ì‹œê°í™”"},
            {"icon": "ğŸ“¤", "title": "ë°ì´í„° Export", "desc": "CSV, Excel í˜•íƒœë¡œ ë¶„ì„ ê²°ê³¼ ë‚´ë³´ë‚´ê¸°"},
            {"icon": "ğŸ›¡ï¸", "title": "í’ˆì§ˆ ë³´ì¥", "desc": "ë°ì´í„° ìœ íš¨ì„± ê²€ì¦ ë° ì—ëŸ¬ ì²˜ë¦¬ ì‹œìŠ¤í…œ"},
            {"icon": "ğŸ¨", "title": "ì§ê´€ì  UI", "desc": "ì‚¬ìš©í•˜ê¸° ì‰¬ìš´ íƒ­ ê¸°ë°˜ ì¸í„°í˜ì´ìŠ¤"}
        ]
        
        cols = st.columns(2)
        for i, feature in enumerate(features):
            with cols[i % 2]:
                st.markdown(f"""
                **{feature['icon']} {feature['title']}**  
                {feature['desc']}
                """)
    
    @staticmethod
    def _render_quick_start():
        """ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ"""
        st.markdown("---")
        st.subheader("ğŸš€ ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ")
        
        steps = [
            {
                "number": "1ï¸âƒ£",
                "title": "ìƒ˜í”Œ ë°ì´í„° ìƒì„±",
                "content": "ë©”ì¸ í™”ë©´ì—ì„œ **'ğŸ­ ìƒ˜í”Œ ë°ì´í„° ìƒì„±'** ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”.",
                "time": "30ì´ˆ"
            },
            {
                "number": "2ï¸âƒ£", 
                "title": "í”„ë¡œì íŠ¸ ì„ íƒ",
                "content": "ìë™ìœ¼ë¡œ ìƒì„±ëœ **'ğŸš€ í¬ì½”í†¤ ë°ëª¨ í”„ë¡œì íŠ¸'**ê°€ ì„ íƒë©ë‹ˆë‹¤.",
                "time": "ì¦‰ì‹œ"
            },
            {
                "number": "3ï¸âƒ£",
                "title": "ë°ì´í„° íƒìƒ‰",
                "content": "**íŒ€ì› ê´€ë¦¬**, **ì—…ë¬´ ê´€ë¦¬**, **ìŠ¤í”„ë¦°íŠ¸ ê´€ë¦¬** íƒ­ì„ ë‘˜ëŸ¬ë³´ì„¸ìš”.",
                "time": "2ë¶„"
            },
            {
                "number": "4ï¸âƒ£",
                "title": "ì‹œë®¬ë ˆì´ì…˜ ì‹¤í–‰",
                "content": "**ì‹œë®¬ë ˆì´ì…˜** íƒ­ì—ì„œ **'ğŸš€ Round Robin ì‹œë®¬ë ˆì´ì…˜ ì‹¤í–‰'** ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”.",
                "time": "1ë¶„"
            },
            {
                "number": "5ï¸âƒ£",
                "title": "ê²°ê³¼ í™•ì¸",
                "content": "**ì‹œê°í™”** ë° **Export** ì„¹ì…˜ì—ì„œ ë‹¤ì–‘í•œ ë¶„ì„ ê²°ê³¼ë¥¼ í™•ì¸í•˜ì„¸ìš”.",
                "time": "1ë¶„ 30ì´ˆ"
            }
        ]
        
        for step in steps:
            with st.container():
                col1, col2, col3 = st.columns([1, 8, 1])
                with col1:
                    st.markdown(f"### {step['number']}")
                with col2:
                    st.markdown(f"**{step['title']}**")
                    st.markdown(step['content'])
                with col3:
                    st.markdown(f"â±ï¸ {step['time']}")
                st.markdown("---")
    
    @staticmethod
    def _render_detailed_guide():
        """ìƒì„¸ ê°€ì´ë“œ"""
        st.markdown("---")
        st.subheader("ğŸ“– ìƒì„¸ ë°ëª¨ ê°€ì´ë“œ")
        
        # íƒ­ë³„ ìƒì„¸ ì„¤ëª…
        guide_tabs = st.tabs(["ğŸ‘¥ íŒ€ì›", "ğŸ“‹ ì—…ë¬´", "ğŸš€ ìŠ¤í”„ë¦°íŠ¸", "ğŸ¯ ì‹œë®¬ë ˆì´ì…˜", "ğŸ“Š ì‹œê°í™”"])
        
        with guide_tabs[0]:
            st.markdown("""
            ### ğŸ‘¥ íŒ€ì› ê´€ë¦¬ íƒ­
            
            #### ğŸ“‹ í™•ì¸í•  ë‚´ìš©
            - **5ëª…ì˜ íŒ€ì›**: ê¹€ê°œë°œ, ë°•í”„ë¡ íŠ¸, ì´ë””ìì¸, ìµœê¸°íš, ì •QA
            - **ë‹¤ì–‘í•œ ì—­í• **: ë°±ì—”ë“œ, í”„ë¡ íŠ¸ì—”ë“œ, ë””ìì´ë„ˆ, PM, QA
            - **ì¼ì¼ ê°€ìš©ì‹œê°„**: 6~8ì‹œê°„ (ì—­í• ë³„ ì°¨ì´)
            
            #### ğŸ” ì£¼ëª©í•  ì 
            - ì—­í• ë³„ **ì „ë¬¸ì„±**ì„ ê³ ë ¤í•œ ì‹œê°„ ë°°ì •
            - ì‹¤ì œ ê°œë°œíŒ€ê³¼ **ë™ì¼í•œ êµ¬ì„±**
            - **ê· í˜•ì¡íŒ** íŒ€ êµ¬ì¡°
            """)
        
        with guide_tabs[1]:
            st.markdown("""
            ### ğŸ“‹ ì—…ë¬´ ê´€ë¦¬ íƒ­
            
            #### ğŸ“‹ í™•ì¸í•  ë‚´ìš©
            - **10ê°œì˜ í˜„ì‹¤ì  ì—…ë¬´**: DB ì„¤ê³„ë¶€í„° ë°°í¬ê¹Œì§€
            - **ë‹¤ì–‘í•œ ìš°ì„ ìˆœìœ„**: 1~5ë‹¨ê³„ ì„¤ì •
            - **ìƒì„¸í•œ ì—…ë¬´ ë‚´ìš©**: ì‹¤ì œ ê°œë°œ ì‹œë‚˜ë¦¬ì˜¤
            
            #### ğŸ” ì£¼ëª©í•  ì 
            - **ìŠ¤í”„ë¦°íŠ¸ë³„** ì—…ë¬´ ë¶„ë¥˜
            - **ì—°ê²°ì„±** ì„¤ì •ìœ¼ë¡œ ì—…ë¬´ ê°„ ì˜ì¡´ê´€ê³„ í‘œí˜„
            - **AI íŒë‹¨** í•„ë“œì˜ ì»¨í…ìŠ¤íŠ¸ ì •ë³´
            """)
        
        with guide_tabs[2]:
            st.markdown("""
            ### ğŸš€ ìŠ¤í”„ë¦°íŠ¸ ê´€ë¦¬ íƒ­
            
            #### ğŸ“‹ í™•ì¸í•  ë‚´ìš©
            - **Sprint 1.0**: ê¸°ì´ˆì„¤ê³„ (2ì£¼)
            - **Sprint 1.1**: í•µì‹¬ê°œë°œ (2ì£¼)  
            - **v1.0.0**: ì •ì‹ë¦´ë¦¬ì¦ˆ (1ì£¼)
            
            #### ğŸ” ì£¼ëª©í•  ì 
            - **í˜„ì‹¤ì ì¸ ì¼ì •**: ì´ 5ì£¼ í”„ë¡œì íŠ¸
            - **ëª…í™•í•œ ëª©í‘œ**: ìŠ¤í”„ë¦°íŠ¸ë³„ í•µì‹¬ ëª©ì 
            - **ë‹¨ê³„ì  ì§„í–‰**: ì„¤ê³„ â†’ ê°œë°œ â†’ ë¦´ë¦¬ì¦ˆ
            """)
        
        with guide_tabs[3]:
            st.markdown("""
            ### ğŸ¯ ì‹œë®¬ë ˆì´ì…˜ íƒ­
            
            #### ğŸ“‹ í™•ì¸í•  ë‚´ìš©
            - **í”„ë¡œì íŠ¸ ìš”ì•½**: íŒ€ì› ìˆ˜, ì—…ë¬´ ìˆ˜, ì´ ì‹œê°„
            - **ë¶„ë°° ê²°ê³¼**: íŒ€ì›ë³„ í• ë‹¹ í˜„í™©
            - **ìŠ¤í”„ë¦°íŠ¸ë³„ ë¶„ë°°**: ê° ìŠ¤í”„ë¦°íŠ¸ ì—…ë¬´ í• ë‹¹
            
            #### ğŸ” ì£¼ëª©í•  ì 
            - **ìë™ ìœ íš¨ì„± ê²€ì¦**: ì‹¤í–‰ ì „ ë°ì´í„° ì²´í¬
            - **ì¦‰ì‹œ ê²°ê³¼**: í´ë¦­ í•œ ë²ˆìœ¼ë¡œ ì™„ë£Œ
            - **ìƒì„¸í•œ ë¶„ì„**: í™œìš©ë¥ , ê· í˜•ë„ ë“±
            """)
        
        with guide_tabs[4]:
            st.markdown("""
            ### ğŸ“Š ì‹œê°í™” íƒ­
            
            #### ğŸ“‹ í™•ì¸í•  ë‚´ìš©
            - **íŒ€ì›ë³„ ì—…ë¬´ëŸ‰**: Bar Chartë¡œ í•œëˆˆì— ë¹„êµ
            - **ê°„íŠ¸ ì°¨íŠ¸**: ì „ì²´ í”„ë¡œì íŠ¸ íƒ€ì„ë¼ì¸
            - **ë¶ˆê· í˜• ì§€í‘œ**: í™œìš©ë¥  ë¶„í¬ ë° í¸ì°¨
            
            #### ğŸ” ì£¼ëª©í•  ì 
            - **ì¸í„°ë™í‹°ë¸Œ**: í˜¸ë²„, í™•ëŒ€/ì¶•ì†Œ ê°€ëŠ¥
            - **ìƒ‰ìƒ êµ¬ë¶„**: íŒ€ì›/ì—­í• ë³„ ì‹œê°ì  êµ¬ë¶„
            - **ìë™ ë¶„ì„**: AI ê¸°ë°˜ ê¶Œì¥ì‚¬í•­ ì œì‹œ
            """)
    
    @staticmethod
    def _render_demo_script():
        """ë°ëª¨ ìŠ¤í¬ë¦½íŠ¸"""
        st.markdown("---")
        st.subheader("ğŸ¬ í”„ë ˆì  í…Œì´ì…˜ìš© ë°ëª¨ ìŠ¤í¬ë¦½íŠ¸")
        
        # ìŠ¤í¬ë¦½íŠ¸ ë‹¤ìš´ë¡œë“œ ë²„íŠ¼
        script_content = get_demo_script()
        
        col1, col2, col3 = st.columns([1, 2, 1])
        with col2:
            st.download_button(
                label="ğŸ“„ ë°ëª¨ ìŠ¤í¬ë¦½íŠ¸ ë‹¤ìš´ë¡œë“œ",
                data=script_content,
                file_name="pokoton_demo_script.md",
                mime="text/markdown",
                use_container_width=True
            )
        
        # ìŠ¤í¬ë¦½íŠ¸ ë¯¸ë¦¬ë³´ê¸°
        with st.expander("ğŸ“– ìŠ¤í¬ë¦½íŠ¸ ë¯¸ë¦¬ë³´ê¸°", expanded=True):
            st.markdown(script_content)

class FeatureHighlight:
    """ê¸°ëŠ¥ í•˜ì´ë¼ì´íŠ¸ ì»´í¬ë„ŒíŠ¸"""
    
    @staticmethod
    def render():
        """ê¸°ëŠ¥ í•˜ì´ë¼ì´íŠ¸ ë Œë”ë§"""
        st.markdown("---")
        st.header("âœ¨ í¬ì½”í†¤ ì£¼ìš” ê¸°ëŠ¥")
        
        # 3ê°œ ì»¬ëŸ¼ìœ¼ë¡œ ì£¼ìš” ê¸°ëŠ¥ í‘œì‹œ
        col1, col2, col3 = st.columns(3)
        
        with col1:
            st.markdown("""
            ### ğŸ¯ ìŠ¤ë§ˆíŠ¸ ë¶„ë°°
            - **Round Robin ì•Œê³ ë¦¬ì¦˜**
            - ê³µì •í•œ ì—…ë¬´ ë¶„ë°°
            - íŒ€ì›ë³„ ê°€ìš©ì‹œê°„ ê³ ë ¤
            - ìš°ì„ ìˆœìœ„ ê¸°ë°˜ í• ë‹¹
            """)
        
        with col2:
            st.markdown("""
            ### ğŸ“Š ì‹¤ì‹œê°„ ë¶„ì„
            - **ì§ê´€ì  ì‹œê°í™”**
            - ê°„íŠ¸ ì°¨íŠ¸ íƒ€ì„ë¼ì¸
            - í™œìš©ë¥  ëª¨ë‹ˆí„°ë§
            - ë¶ˆê· í˜• ìë™ ê°ì§€
            """)
        
        with col3:
            st.markdown("""
            ### ğŸš€ íš¨ìœ¨ì„± ê·¹ëŒ€í™”
            - **ì›í´ë¦­ ì‹œë®¬ë ˆì´ì…˜**
            - CSV/Excel Export
            - ìŠ¤í”„ë¦°íŠ¸ ê¸°ë°˜ ê´€ë¦¬
            - ì—ëŸ¬ ë°©ì§€ ì‹œìŠ¤í…œ
            """)